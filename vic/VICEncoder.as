package {	import org.tomasino.encoding.VIC;	import org.tomasino.encoding.VICValidate;	import com.leiner.calendar.datechooser.DateChooser;	import flash.events.Event;	import flash.display.Sprite;	public class VICEncoder extends Sprite	{		public var vic:VIC = new VIC ();		public var dc:DateChooser;		private var _date:Date = new Date(1752, 8, 3);				private function update():void		{			var s = song.text;				s = s.replace(VICValidate.standardRegExp, '');							var msg = rawMessage.text;				msg = msg.replace(VICValidate.messageRegExp, '');							var encode:String = vic.encode(s, MI.text, dc.selectedDate, personalID.text,msg);			code.text = encode;				}		public function VICEncoder()		{			song.addEventListener(Event.CHANGE, validate);			rawMessage.addEventListener(Event.CHANGE, validate);			MI.addEventListener(Event.CHANGE, validate);			personalID.addEventListener(Event.CHANGE, validate);						MI.restrict = "0-9";			personalID.restrict = "0-9";			MI.maxChars = 5;			personalID.maxChars = 2;			dc = new DateChooser();						dc.y = 195; 			dc.x = 170;			addChild(dc);			dc.date = _date;			dc.addEventListener( Event.CHANGE, validate );									validate();		}				public function validate(e:Event = null):void		{					if ( VICValidate.encode( song.text, rawMessage.text, MI.text, personalID.text, dc.selectedDate ) ) update();		}	}}